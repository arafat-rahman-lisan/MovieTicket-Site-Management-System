/* ===========================================================
   STAR CINEPLEX — SHOWTICKETS ULTRA GLASS (V3.1)
   + Dropdown glass fix
   + Landing-card container to remove white space
   =========================================================== */

/* ---- Global dark canvas (safety) ---- */
html, body {
    background: linear-gradient(180deg, #05070e 0%, #0a0f1f 100%);
    color: #eaf0f7;
}

/* ---- Page shell ---- */
.showtickets-shell {
    position: relative;
    min-height: 100vh;
    color: #eaf0f7;
    overflow: hidden;
    isolation: isolate;
}

/* ---- Layered background ---- */
.showtickets-bg {
    position: absolute;
    inset: 0;
    background: radial-gradient(1400px 900px at 10% -10%, rgba(37, 99, 235, 0.22), transparent 60%), radial-gradient(1200px 800px at 110% 0%, rgba(124, 58, 237, 0.22), transparent 55%), linear-gradient(180deg, #07090f 0%, #0a0e15 100%);
    z-index: -4; /* moved down to allow doodles above */
}

.showtickets-aura {
    position: absolute;
    inset: -10%;
    background: conic-gradient(from 0turn, transparent 0%, rgba(99,102,241,0.18) 20%, transparent 35%, rgba(168,85,247,0.18) 55%, transparent 70%, rgba(59,130,246,0.18) 85%, transparent 100%);
    filter: blur(40px) saturate(120%);
    animation: aura-spin 18s linear infinite;
    z-index: -3;
    opacity: .9;
}

@keyframes aura-spin {
    to {
        transform: rotate(360deg);
    }
}

/* ---- Subtle film grain (topmost of bg layers) ---- */
.showtickets-shell::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    opacity: .06;
    background-image: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'>\
  <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/></filter>\
  <rect width='100%' height='100%' filter='url(%23n)' opacity='0.45'/></svg>");
    mix-blend-mode: overlay;
    z-index: -1;
}

/* ===========================================================
   MOVIE DOODLES LAYER (subtle, animated)
   =========================================================== */
.showtickets-doodles {
    position: absolute;
    inset: 0;
    z-index: -2; /* above aura, below grain */
    opacity: 0.07;
    pointer-events: none;
    mix-blend-mode: soft-light;
    background-repeat: repeat, repeat;
    background-size: 220px 220px, 260px 260px;
    background-position: 0 0, 40px 60px;
    animation: doodle-drift-a 80s linear infinite alternate, doodle-drift-b 95s linear infinite alternate;
    background-image: url("data:image/svg+xml;utf8,\
    <svg xmlns='http://www.w3.org/2000/svg' width='220' height='220' viewBox='0 0 220 220'>\
      <g fill='none' stroke='white' stroke-opacity='.85' stroke-width='1.4'>\
        <rect x='20' y='28' rx='4' ry='4' width='68' height='44' opacity='.65'/>\
        <path d='M20 44 L88 44' opacity='.65'/>\
        <path d='M24 32 l12 12 M44 32 l12 12 M64 32 l12 12' opacity='.65'/>\
        <path d='M128 36 h48 a4 4 0 0 1 4 4 v8 a8 8 0 0 0 0 16 v8 a4 4 0 0 1 -4 4 h-48 a4 4 0 0 1 -4 -4 v-8 a8 8 0 0 0 0 -16 v-8 a4 4 0 0 1 4 -4 z' opacity='.5'/>\
        <path d='M144 48 h16 M144 56 h16' opacity='.5'/>\
        <path d='M44 144 l10 44 h36 l10 -44 z' opacity='.5'/>\
        <path d='M44 144 c8 -10 18 -12 24 -6 6 -6 16 -6 22 0 6 -6 16 -4 24 6' opacity='.45'/>\
        <path d='M186 92 l4 8 9 1 -7 6 2 9 -8 -4 -8 4 2 -9 -7 -6 9 -1 z' opacity='.4'/>\
        <path d='M24 100 l3 6 7 1 -5 4 2 7 -6 -3 -6 3 2 -7 -5 -4 7 -1 z' opacity='.35'/>\
      </g></svg>"), url("data:image/svg+xml;utf8,\
    <svg xmlns='http://www.w3.org/2000/svg' width='260' height='260' viewBox='0 0 260 260'>\
      <g fill='none' stroke='white' stroke-opacity='.65' stroke-width='1.6'>\
        <circle cx='180' cy='72' r='34'/>\
        <circle cx='180' cy='72' r='6'/>\
        <circle cx='160' cy='72' r='6'/>\
        <circle cx='200' cy='72' r='6'/>\
        <circle cx='180' cy='52' r='6'/>\
        <circle cx='180' cy='92' r='6'/>\
        <rect x='36' y='196' width='120' height='16' rx='3'/>\
        <g opacity='.7'>\
          <rect x='40' y='198' width='8' height='12'/>\
          <rect x='56' y='198' width='8' height='12'/>\
          <rect x='72' y='198' width='8' height='12'/>\
          <rect x='88' y='198' width='8' height='12'/>\
          <rect x='104' y='198' width='8' height='12'/>\
          <rect x='120' y='198' width='8' height='12'/>\
          <rect x='136' y='198' width='8' height='12'/>\
        </g></g></svg>");
}

@keyframes doodle-drift-a {
    0% {
        background-position: 0 0,40px 60px
    }

    100% {
        background-position: -60px -40px,40px 60px
    }
}

@keyframes doodle-drift-b {
    0% {
        background-position: 0 0,40px 60px
    }

    100% {
        background-position: 0 0,-80px -70px
    }
}

@media (prefers-reduced-motion: reduce) {
    .showtickets-doodles {
        animation: none
    }
}

/* ===========================================================
   GLASS PRIMITIVES
   =========================================================== */
.glass-surface {
    background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
    border: 1px solid rgba(255,255,255,0.16);
    backdrop-filter: blur(14px) saturate(110%);
    -webkit-backdrop-filter: blur(14px) saturate(110%);
}

.glass-stroke {
    position: relative;
}

    .glass-stroke::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: inherit;
        padding: 1px;
        background: linear-gradient(135deg, rgba(99,102,241,.55), rgba(168,85,247,.55));
        -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
        opacity: .7;
    }

.glass-glow {
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 20px 60px rgba(0,0,0,.45);
}

/* ===========================================================
   GLASS SHINE (fixed behind content)
   =========================================================== */
.glass-shine {
    position: relative;
    overflow: hidden;
    z-index: 0;
}

    .glass-shine::after {
        content: "";
        position: absolute;
        inset: -120% -60%;
        background: linear-gradient(115deg, transparent 45%, rgba(255,255,255,.18) 50%, transparent 55%);
        transform: translate3d(-20%,0,0) rotate(2deg);
        transition: transform .9s cubic-bezier(.22,.61,.36,1);
        z-index: 0;
        pointer-events: none;
    }

    .glass-shine:hover::after {
        transform: translate3d(20%,0,0) rotate(2deg);
    }

    .glass-shine > * {
        position: relative;
        z-index: 1;
    }
/* content above shine */

/* ===========================================================
   FLOATABLE
   =========================================================== */
.floatable {
    transition: transform .25s ease, box-shadow .25s ease;
}

    .floatable:hover {
        transform: translateY(-4px);
    }

/* ===========================================================
   LANDING CARD WRAPPER (removes white space like landing page)
   =========================================================== */
.showtickets-card {
    max-width: 1220px;
    margin: 24px auto 48px auto;
    padding: 22px 22px 28px 22px;
    border-radius: 28px;
    background: rgba(20, 25, 40, 0.72);
    border: 1px solid rgba(255,255,255,0.10);
    backdrop-filter: blur(16px) saturate(180%);
    -webkit-backdrop-filter: blur(16px) saturate(180%);
    box-shadow: 0 24px 64px rgba(0,0,0,.48);
}

/* ===========================================================
   TOOLBAR
   =========================================================== */
.glass-toolbar {
    border-radius: 18px;
    padding: 14px 18px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
    border: 1px solid rgba(255,255,255,0.16);
    backdrop-filter: blur(14px) saturate(110%);
    -webkit-backdrop-filter: blur(14px) saturate(110%);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 20px 60px rgba(0,0,0,.45);
    position: relative;
}

.title-text {
    font-weight: 800;
    letter-spacing: .3px;
    color: #eaf0f7;
}

.toolbar-dot {
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: radial-gradient(circle at 40% 40%, #a78bfa, #60a5fa);
    box-shadow: 0 0 18px rgba(99,102,241,.9), 0 0 36px rgba(124,58,237,.6);
}

/* ===========================================================
   CONTROLS — Ultra glass select (dropdown panel fixed)
   =========================================================== */
.glass-select {
    appearance: none;
    padding: 10px 42px 10px 14px; /* leave room for caret */
    border-radius: 12px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.20);
    color: #ecf3fb;
    outline: none;
    font-size: .95rem;
    transition: box-shadow .2s ease, background .2s ease, transform .2s ease, border-color .2s ease;
    position: relative;
    background-image: url("data:image/svg+xml;utf8,\
      <svg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><polyline points='6 9 12 15 18 9'/></svg>");
    background-repeat: no-repeat;
    background-position: right 12px center;
}

    .glass-select:hover {
        background: rgba(255,255,255,0.12);
    }

    .glass-select:focus {
        box-shadow: 0 0 0 4px rgba(99,102,241,.28), 0 10px 24px rgba(0,0,0,.35);
        transform: translateY(-1px);
        border-color: rgba(124,58,237,.5);
    }

    /* Ensure the dropdown list itself isn’t white */
    .glass-select option,
    .glass-select optgroup {
        background: rgba(15,20,35,0.96);
        color: #eaf0f7;
    }

    /* Hide the default arrow on legacy Edge/IE (no-op elsewhere) */
    .glass-select::-ms-expand {
        display: none;
    }

/* ===========================================================
   BUTTONS
   =========================================================== */
.glass-btn {
    padding: 10px 16px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,0.16);
    background: rgba(255,255,255,0.08);
    color: #f0f6ff;
    font-weight: 700;
    letter-spacing: .2px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    transition: transform .18s ease, box-shadow .18s ease, background .18s ease, opacity .18s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}

    .glass-btn:hover {
        transform: translateY(-1px);
        background: rgba(255,255,255,0.12);
        box-shadow: 0 12px 28px rgba(0,0,0,.38);
    }

    .glass-btn.small {
        padding: 8px 12px;
        font-size: .9rem;
    }

    .glass-btn.outline {
        background: transparent;
        border: 1px solid rgba(255,255,255,0.22);
    }

        .glass-btn.outline:hover {
            background: rgba(255,255,255,0.07);
        }

    .glass-btn.primary {
        border: none;
        background: linear-gradient(135deg, #2563eb, #7c3aed);
        box-shadow: 0 14px 28px rgba(67, 56, 202, .45);
    }

        .glass-btn.primary[disabled] {
            opacity: .55;
            filter: grayscale(12%);
            cursor: not-allowed;
            box-shadow: none;
        }

@keyframes btn-pulse {
    0%,100% {
        box-shadow: 0 0 0 0 rgba(99,102,241,.0)
    }

    50% {
        box-shadow: 0 0 0 10px rgba(99,102,241,.08)
    }
}

.get-ticket:not([disabled]) {
    animation: btn-pulse 2.6s ease-in-out infinite;
}

/* ===========================================================
   CARDS
   =========================================================== */
.glass-card {
    position: relative;
    border-radius: 22px;
    background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
    border: 1px solid rgba(255,255,255,0.16);
    backdrop-filter: blur(16px) saturate(120%);
    -webkit-backdrop-filter: blur(16px) saturate(120%);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 24px 64px rgba(0,0,0,.48);
    overflow: hidden;
}

.glass-body {
    padding: 18px;
}

/* Movie card */
.movie-card .poster-wrap {
    position: relative;
    overflow: hidden;
}

.poster-img {
    width: 100%;
    display: block;
    aspect-ratio: 16/9;
    object-fit: cover;
    border-top-left-radius: 22px;
    border-top-right-radius: 22px;
}

.poster-glow {
    position: absolute;
    inset: 0;
    box-shadow: inset 0 -50px 90px rgba(0,0,0,.6), 0 0 80px rgba(99,102,241,.26);
    pointer-events: none;
}

.movie-title {
    font-weight: 900;
    font-size: 1.38rem;
    letter-spacing: .25px;
    margin-bottom: 6px;
    color: #eaf0f7;
}

.meta-row {
    display: flex;
    gap: 8px;
    margin-bottom: 10px;
}

.chip {
    font-size: .85rem;
    padding: 6px 10px;
    border-radius: 999px;
    background: rgba(255,255,255,0.08);
    border: 1px solid rgba(255,255,255,0.2);
}

    .chip.alt {
        background: rgba(99,102,241,.18);
        border-color: rgba(99,102,241,.38);
    }

.meta-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px 12px;
    margin-bottom: 14px;
}

.label {
    display: block;
    font-size: .75rem;
    opacity: .72;
}

.value {
    display: block;
    font-weight: 700;
}

/* ===========================================================
   SCHEDULE GRID
   =========================================================== */
.schedule-grid {
    display: grid;
    gap: 18px;
    grid-template-columns: repeat(1, minmax(0,1fr));
}

@media (min-width:576px) {
    .schedule-grid {
        grid-template-columns: repeat(2, minmax(0,1fr));
    }
}

@media (min-width:992px) {
    .schedule-grid {
        grid-template-columns: repeat(3, minmax(0,1fr));
    }
}

.schedule-col-header {
    padding: 18px 18px 10px 18px;
    border-bottom: 1px dashed rgba(255,255,255,0.16);
    position: relative;
}

    .schedule-col-header .dow {
        font-weight: 800;
        letter-spacing: .3px;
    }

    .schedule-col-header .date {
        font-size: .92rem;
        opacity: .82;
    }

.schedule-col-body {
    padding: 14px 14px 8px 14px;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    min-height: 76px;
}

/* Time buttons */
.time-btn {
    --glow: rgba(99,102,241,.18);
    border: 1px solid rgba(255,255,255,0.20);
    background: rgba(255,255,255,0.08);
    color: #f2f7ff;
    padding: 9px 13px;
    border-radius: 12px;
    font-weight: 700;
    letter-spacing: .2px;
    transition: transform .15s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease;
    position: relative;
    outline: none;
}

    .time-btn:hover {
        background: rgba(255,255,255,0.12);
        transform: translateY(-1px);
        box-shadow: 0 10px 24px rgba(0,0,0,.35);
    }

    .time-btn.active {
        background: linear-gradient(135deg, rgba(37,99,235,.30), rgba(124,58,237,.30));
        border-color: rgba(124,58,237,.70);
        box-shadow: 0 10px 28px rgba(29,78,216,.32), 0 0 0 4px var(--glow);
        animation: active-pop .25s ease;
    }

@keyframes active-pop {
    0% {
        transform: scale(.98);
    }

    100% {
        transform: scale(1);
    }
}

/* Ripple highlight — positioned by JS via --x/--y */
.time-btn::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(120px 120px at var(--x,50%) var(--y,50%), rgba(255,255,255,.14), transparent 60%);
    opacity: 0;
    transition: opacity .25s ease;
}

.time-btn:hover::after {
    opacity: 1;
}

/* Footer */
.schedule-col-footer {
    padding: 12px 16px 16px 16px;
    border-top: 1px dashed rgba(255,255,255,0.16);
}

.muted {
    opacity: .78;
}

/* ===========================================================
   HOVERS / TILTS (CSS-only fallback)
   =========================================================== */
.movie-card, .schedule-col {
    transform-style: preserve-3d;
    will-change: transform;
}

    .movie-card:hover, .schedule-col:hover {
        transform: perspective(900px) rotateX(1deg) rotateY(-1deg);
    }

/* ===========================================================
   REDUCED MOTION
   =========================================================== */
@media (prefers-reduced-motion: reduce) {
    .showtickets-aura {
        animation: none;
    }

    .glass-shine::after, .floatable, .glass-btn, .time-btn, .movie-card, .schedule-col {
        transition: none !important;
    }

    .get-ticket:not([disabled]) {
        animation: none;
    }
}
